I"}`<h2 id="girdview를-이용해-영화-포스터-앱을-만들어보자">GirdView를 이용해 영화 포스터 앱을 만들어보자</h2>

<ul>
  <li>목표</li>
</ul>

<p><img src="https://user-images.githubusercontent.com/39071798/70386498-74b8f780-19dc-11ea-95c2-343d07d859ff.png" alt="image" /></p>

<ul>
  <li>영화 포스터</li>
</ul>

<h4 id="다른-이름으로-저장해서-다운받기를-바란다">다른 이름으로 저장해서 다운받기를 바란다</h4>

<p><img src="https://user-images.githubusercontent.com/39071798/70386519-cceff980-19dc-11ea-9740-434ea215587f.jpg" alt="mov01" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386520-cceff980-19dc-11ea-9955-dd6040dad7d8.jpg" alt="mov02" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386521-cceff980-19dc-11ea-8d14-00a4e5f8f3d9.jpg" alt="mov03" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386522-cceff980-19dc-11ea-9976-b7d19513c35a.jpg" alt="mov04" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386523-cd889000-19dc-11ea-834e-4aa7b465c399.jpg" alt="mov05" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386524-cd889000-19dc-11ea-9387-71cabcf18579.jpg" alt="mov06" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386525-cd889000-19dc-11ea-9a00-78775d7f35b3.jpg" alt="mov07" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386526-cd889000-19dc-11ea-8a45-007299f05673.jpg" alt="mov08" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386527-ce212680-19dc-11ea-838a-f41eb74e241c.jpg" alt="mov09" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386528-ce212680-19dc-11ea-99af-4985c2bfa3eb.jpg" alt="mov10" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386529-ce212680-19dc-11ea-8590-3cf058e7403e.jpg" alt="mov11" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386530-ce212680-19dc-11ea-96f1-0aaac1772b8a.jpg" alt="mov12" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386531-ceb9bd00-19dc-11ea-9f8b-fc8cdfa752e6.jpg" alt="mov13" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386532-ceb9bd00-19dc-11ea-9a92-a87a5c55aa2d.jpg" alt="mov14" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386533-ceb9bd00-19dc-11ea-80ec-919b3a9d497f.jpg" alt="mov15" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386534-cf525380-19dc-11ea-9e83-537dc12a39bc.jpg" alt="mov16" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386535-cf525380-19dc-11ea-8aa1-a747a0cdd931.jpg" alt="mov17" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386536-cf525380-19dc-11ea-8895-89b4fe11e856.jpg" alt="mov18" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386537-cfeaea00-19dc-11ea-9a58-c03b3f24ccc5.jpg" alt="mov19" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386538-cfeaea00-19dc-11ea-98c7-1591389577c3.jpg" alt="mov20" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386539-cfeaea00-19dc-11ea-8303-c9aa36937f76.jpg" alt="mov21" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386540-d0838080-19dc-11ea-8d43-6dd488b5f1c4.jpg" alt="mov22" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386541-d0838080-19dc-11ea-81e9-1a96b95d902e.jpg" alt="mov23" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386542-d0838080-19dc-11ea-9bdd-769d62c2f8df.jpg" alt="mov24" width="20%" height="20%" />
<img src="https://user-images.githubusercontent.com/39071798/70386543-d0838080-19dc-11ea-8599-b38870d7fadf.jpg" alt="mov25" width="20%" height="20%" /></p>

<ul>
  <li>아이콘</li>
</ul>

<p><img src="https://user-images.githubusercontent.com/39071798/70386544-d11c1700-19dc-11ea-828f-d5beb3d42f0d.png" alt="movie_icon" /></p>

<p><code class="highlighter-rouge">activity_main.xml</code></p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">xmlns:app=</span><span class="s">"http://schemas.android.com/apk/res-auto"</span>
    <span class="na">xmlns:tools=</span><span class="s">"http://schemas.android.com/tools"</span>
    <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:orientation=</span><span class="s">"vertical"</span>
    <span class="na">tools:context=</span><span class="s">".MainActivity"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;GridView</span> <span class="na">android:id=</span><span class="s">"@+id/gridView1"</span>
        <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span>
        <span class="na">android:gravity=</span><span class="s">"center"</span>
        <span class="na">android:numColumns=</span><span class="s">"4"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;/GridView&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">dialog.xml</code></p>
<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span>
<span class="nt">&lt;LinearLayout</span> <span class="na">xmlns:android=</span><span class="s">"http://schemas.android.com/apk/res/android"</span>
    <span class="na">android:orientation=</span><span class="s">"vertical"</span> <span class="na">android:layout_width=</span><span class="s">"match_parent"</span>
    <span class="na">android:layout_height=</span><span class="s">"match_parent"</span>
    <span class="na">android:gravity=</span><span class="s">"center"</span><span class="nt">&gt;</span>

    <span class="nt">&lt;ImageView</span> <span class="na">android:id=</span><span class="s">"@+id/ivPoster"</span>
        <span class="na">android:layout_width=</span><span class="s">"wrap_content"</span>
        <span class="na">android:layout_height=</span><span class="s">"wrap_content"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/LinearLayout&gt;</span>
</code></pre></div></div>

<p><code class="highlighter-rouge">MainActivity.java</code></p>
<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">example</span><span class="o">.</span><span class="na">boki</span><span class="o">.</span><span class="na">movieposter_gridview</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">android.content.Context</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.support.v7.app.AlertDialog</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.support.v7.app.AppCompatActivity</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.os.Bundle</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.View</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.view.ViewGroup</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.BaseAdapter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.GridView</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">android.widget.ImageView</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivity</span> <span class="kd">extends</span> <span class="nc">AppCompatActivity</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">onCreate</span><span class="o">(</span><span class="nc">Bundle</span> <span class="n">savedInstanceState</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">onCreate</span><span class="o">(</span><span class="n">savedInstanceState</span><span class="o">);</span>
        <span class="n">setContentView</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">activity_main</span><span class="o">);</span>
        <span class="n">setTitle</span><span class="o">(</span><span class="s">"그리드뷰 영화 포스터"</span><span class="o">);</span>

        <span class="kd">final</span> <span class="nc">GridView</span> <span class="n">gv</span> <span class="o">=</span> <span class="o">(</span><span class="nc">GridView</span><span class="o">)</span> <span class="n">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">gridView1</span><span class="o">);</span>
        <span class="nc">MyGridAdapter</span> <span class="n">gAdapter</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">MyGridAdapter</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
        <span class="n">gv</span><span class="o">.</span><span class="na">setAdapter</span><span class="o">(</span><span class="n">gAdapter</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyGridAdapter</span> <span class="kd">extends</span> <span class="nc">BaseAdapter</span> <span class="o">{</span>
        <span class="nc">Context</span> <span class="n">context</span><span class="o">;</span>

        <span class="kd">public</span> <span class="nf">MyGridAdapter</span><span class="o">(</span><span class="nc">Context</span> <span class="n">c</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">context</span> <span class="o">=</span> <span class="n">c</span><span class="o">;</span> <span class="c1">// context 변수를 다른 메소드에서 사용하기 위함</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getCount</span><span class="o">()</span> <span class="o">{</span> <span class="c1">// 그리드뷰에 보여질 이미지의 개수를 반환하도록 수정</span>
            <span class="k">return</span> <span class="n">posterID</span><span class="o">.</span><span class="na">length</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="nc">Object</span> <span class="nf">getItem</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="kc">null</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="kt">long</span> <span class="nf">getItemId</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="mi">0</span><span class="o">;</span>
        <span class="o">}</span>

        <span class="c1">// 이미지 파일을 배열로 초기화</span>
        <span class="nc">Integer</span><span class="o">[]</span> <span class="n">posterID</span> <span class="o">=</span> <span class="o">{</span><span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov01</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov02</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov03</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov04</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov05</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov06</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov07</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov08</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov09</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov10</span><span class="o">,</span>
                <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov11</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov12</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov13</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov14</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov15</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov16</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov17</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov18</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov19</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov20</span><span class="o">,</span>
                <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov21</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov22</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov23</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov24</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">mov25</span><span class="o">};</span>

        <span class="c1">// 영화제목을 문자 배열로 초기화</span>
        <span class="nc">String</span><span class="o">[]</span> <span class="n">posterTitle</span> <span class="o">=</span> <span class="o">{</span><span class="s">"써니"</span><span class="o">,</span><span class="s">"완득이"</span><span class="o">,</span><span class="s">"괴물"</span><span class="o">,</span><span class="s">"라디오스타"</span><span class="o">,</span><span class="s">"비열한거리"</span><span class="o">,</span><span class="s">"왕의남자"</span><span class="o">,</span><span class="s">"아일랜드"</span><span class="o">,</span><span class="s">"웰컴투동막골"</span><span class="o">,</span><span class="s">"헬보이"</span><span class="o">,</span><span class="s">"빽투더퓨처"</span><span class="o">,</span><span class="s">"여인의향기"</span><span class="o">,</span><span class="s">"쥬라기공원"</span><span class="o">,</span><span class="s">"포레스트검프"</span><span class="o">,</span><span class="s">"그라운드데이"</span><span class="o">,</span><span class="s">"혹성탈출-진화의시작"</span><span class="o">,</span>
        <span class="s">"아름다운비행"</span><span class="o">,</span><span class="s">"내이름은칸"</span><span class="o">,</span><span class="s">"해리포터"</span><span class="o">,</span><span class="s">"마더"</span><span class="o">,</span><span class="s">"킹콩을들다"</span><span class="o">,</span><span class="s">"쿵푸팬더2"</span><span class="o">,</span><span class="s">"짱구는못말려-미래의신부를구하라"</span><span class="o">,</span><span class="s">"아저씨"</span><span class="o">,</span><span class="s">"아바타"</span><span class="o">,</span><span class="s">"대부"</span><span class="o">};</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="nc">View</span> <span class="nf">getView</span><span class="o">(</span><span class="kt">int</span> <span class="n">position</span><span class="o">,</span> <span class="nc">View</span> <span class="n">convertView</span><span class="o">,</span> <span class="nc">ViewGroup</span> <span class="n">parent</span><span class="o">)</span> <span class="o">{</span> <span class="c1">// 영화 포스터를 각 그리드뷰의 칸마다 이미지뷰를 생성해서 보여주게 함</span>
            <span class="nc">ImageView</span> <span class="n">imageView</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ImageView</span><span class="o">(</span><span class="n">context</span><span class="o">);</span>
            <span class="n">imageView</span><span class="o">.</span><span class="na">setLayoutParams</span><span class="o">(</span><span class="k">new</span> <span class="nc">GridView</span><span class="o">.</span><span class="na">LayoutParams</span><span class="o">(</span><span class="mi">200</span><span class="o">,</span> <span class="mi">300</span><span class="o">));</span>
            <span class="n">imageView</span><span class="o">.</span><span class="na">setScaleType</span><span class="o">(</span><span class="nc">ImageView</span><span class="o">.</span><span class="na">ScaleType</span><span class="o">.</span><span class="na">FIT_CENTER</span><span class="o">);</span> <span class="c1">// 그리드뷰 칸의 중앙에 배치</span>
            <span class="n">imageView</span><span class="o">.</span><span class="na">setPadding</span><span class="o">(</span><span class="mi">5</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">5</span><span class="o">,</span><span class="mi">5</span><span class="o">);</span>

            <span class="n">imageView</span><span class="o">.</span><span class="na">setImageResource</span><span class="o">(</span><span class="n">posterID</span><span class="o">[</span><span class="n">position</span><span class="o">]);</span> <span class="c1">// R.drawable.mov0x 이미지를 로드하여 출력</span>
            <span class="c1">//TODO 이미지를 클릭했을 때, 원래 이미지 크기가 보이도록 함</span>
            <span class="kd">final</span> <span class="kt">int</span> <span class="n">pos</span> <span class="o">=</span> <span class="n">position</span><span class="o">;</span>
            <span class="n">imageView</span><span class="o">.</span><span class="na">setOnClickListener</span><span class="o">(</span><span class="k">new</span> <span class="nc">View</span><span class="o">.</span><span class="na">OnClickListener</span><span class="o">()</span> <span class="o">{</span>
                <span class="nd">@Override</span>
                <span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClick</span><span class="o">(</span><span class="nc">View</span> <span class="n">v</span><span class="o">)</span> <span class="o">{</span>
                    <span class="nc">View</span> <span class="n">dialogView</span> <span class="o">=</span> <span class="o">(</span><span class="nc">View</span><span class="o">)</span><span class="nc">View</span><span class="o">.</span><span class="na">inflate</span><span class="o">(</span><span class="nc">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">,</span> <span class="no">R</span><span class="o">.</span><span class="na">layout</span><span class="o">.</span><span class="na">dialog</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
                    <span class="nc">AlertDialog</span><span class="o">.</span><span class="na">Builder</span> <span class="n">dlg</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">AlertDialog</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="nc">MainActivity</span><span class="o">.</span><span class="na">this</span><span class="o">);</span>
                    <span class="nc">ImageView</span> <span class="n">ivPoster</span> <span class="o">=</span> <span class="o">(</span><span class="nc">ImageView</span><span class="o">)</span><span class="n">dialogView</span><span class="o">.</span><span class="na">findViewById</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">ivPoster</span><span class="o">);</span>
                    <span class="n">ivPoster</span><span class="o">.</span><span class="na">setImageResource</span><span class="o">(</span><span class="n">posterID</span><span class="o">[</span><span class="n">pos</span><span class="o">]);</span>
                    <span class="n">dlg</span><span class="o">.</span><span class="na">setTitle</span><span class="o">(</span><span class="n">posterTitle</span><span class="o">[</span><span class="n">pos</span><span class="o">]);</span>
                    <span class="n">dlg</span><span class="o">.</span><span class="na">setIcon</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">drawable</span><span class="o">.</span><span class="na">movie_icon</span><span class="o">);</span>
                    <span class="n">dlg</span><span class="o">.</span><span class="na">setView</span><span class="o">(</span><span class="n">dialogView</span><span class="o">);</span>
                    <span class="n">dlg</span><span class="o">.</span><span class="na">setNegativeButton</span><span class="o">(</span><span class="s">"닫기"</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
                    <span class="n">dlg</span><span class="o">.</span><span class="na">show</span><span class="o">();</span>
                <span class="o">}</span>
            <span class="o">});</span>
            <span class="k">return</span> <span class="n">imageView</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>
:ET